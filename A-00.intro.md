# Введение

Хочется начать эту книгу немного перефразированным стихотворением Маяковского:

```
Писать учебники - та же добыча радия:
В грамм добычи, в годы труды.
Изводишь единого слова ради ты
Тысячи тонн словесной руды.
Но как испепеляюще слов этих жжение
Рядом с тлением слова-сырца.
Эти слова приводят в движение
Тысячи лет миллионов сердца.
```

Работа над книгой может быть приятным времяпрепровождением - есть люди, пишущие книги в жанре нонфикшн по штуке в месяц, легко и быстро. Работа над учебником требует гораздо больше знаний, времени и сил, она является кропотливым трудом, работа над технической книгой - кропотлива втройне: нужно не только текст написать, но и всё выверить, и примеры продумать, и протестировать каждый фрагмент кода (возможно даже, не один раз и не в одной операционной системе). Поэтому чаще всего авторами технических книг являются специалисты, на практике занимающиеся тем или иным узким кругом вопросов. Однако жизнь в последние годы стала настолько динамичной, что практикам стало некогда писать книги - думать некогда, работать надо! Да и зачем тебе писать книгу, если ты и без этого всё знаешь? Зато вот если ты совершенно некомпетентен в теме, по которой пишешь, но в то же время умеешь списывать, не особо вдумываясь в смысл списанного, то, возможно, станешь весьма успешным автором (важно источники для списывания подбирать получше, да списывать внимательно, без ошибок). Поэтому хороших книг стало исчезающе мало.

Второй проблемой стало то, что зачастую авторы технических книг, являясь многоопытными специалистами, видят всё с высоты лет своей работы, и многие концепции, особенно часто используемые, могут казаться им очевидными, простыми и потому не требующими детальных объяснений. Если А то Б, если Б то В, если В то Г - следовательно, если А то Г, это же очевидно! Но будет ли столь же очевидно последнее утверждение (если А то Г) без предшествующих ему утверждений? Будет ли это утверждение в этих же условиях очевидно для начинающего, который может не знать даже о самом наличии предпосылок "если А то Б" или "если Б то В"? Как показывает моя практика преподавания различных дисциплин, ответ на эти два вопроса отрицательный. Спросите у математика, что такое определитель, и вы услышите ответ наподобие "ну, это такое число, которое вычисляется по формуле и показывает, есть ли у системы уравнений решение". Спросите его же - ну а само число какой смысл имеет? Что оно обозначает? - и в лучшем случае он не найдёт ответа, а в худшем - повторит про формулы и правила. Так происходит потому, что теория определителей прорабатывалась в 1940-1950-е годы, и в книгах того времени ещё можно обнаружить всю цепочку объяснений всей логики вычислений, в более поздних работах математический аппарат использовался без пояснения причин и механизмов его работы. Преподаватели, изучавшие высшую математику в 1970-е - 1980-е годы и позже, уже понятия не имели про то, чем является определитель матрицы (я уже молчу про современных студентов - они могут вообще не знать, как считается определитель, хотя и будут его использовать в программных продуктах). Примерно та же история возникает с базами данных - найдите определения нормальных форм и попробуйте изложить их нормальным, понятным простому человеку языком - получится ли у вас это сделать? Если сомневаетесь, читайте эту книгу дальше, в ней теория показана с точки зрения практики, а не теории.

Третьей проблемой книг по базам данных является то, что опыт разработчика ПО, подключающегося к базам данных для хранения в них информации, будет сильно отличаться от опыта администратора этих баз данных. В какой-то степени это нивелируется тем, что разработчик ПО в какой-то момент должен будет начать поддерживать работоспособность написанной им программы, превращаясь таким образом в администратора (точнее, в devops'а). И опыт этих двух людей будет в корне отличаться от опыта разработчика самой СУБД. Каждый автор книги по СУБД будет отображать мир, каким его видит он сам. Разработчик СУБД покажет новые "фичи" и старые "подводные камни", разработчик ПО поделится примерами разработки программ с использованием СУБД, администратор баз данных упор сделает на администрирование. Каждый из них в этой ситуации будет похож на слепого мудреца, ощупывающего слона и делающего свои выводы о его внешности: один потрогал хобот и сказал, что слон - это большая мягкая змея, другой подошёл к ноге и сказал, что слон - это большой столб, третий... о, третьему не повезло, он ничего не успел сказать. И только преподаватель, который должен научить студентов работать с СУБД, дать им немногие общие принципы (которые, как известно, избавляют от знания великого множества фактов), вынужден бегать вокруг слона, рассматривая его со всех сторон, измеряя, подмечая, наблюдая также за каждым из мудрецов, перенимая их лучшие методы работы...

Не претендую на роль мудреца - я скорее посетитель зоопарка, подошедший к вольеру со слоном и разглядывающий и его и мудрецов в разных ракурсах и ситуациях. Значит ли это, что я буду знать о слоне больше или проникну в его тайны глубже, чем мудрецы, каждый из которых изучал только один аспект? - Нисколько. Но, надеюсь, мои наблюдения будут полезны новичкам для получения общей картины.

Сразу хочу предупредить, что эта книга - про работу с PostgreSQL, а не про MySQL, Oracle SQL, стандартный SQL или что-то ещё. Более того, все команды, касающиеся операционной системы, приведены исходя из того, что у вас установлена ОС Linux (у меня стоит Ubuntu, поэтому все команды, касающиеся операционки, будут работать на Debian-системах). Почему линукс? Во-первых, СУБД нужны прежде всего на серверах: компания Microsoft ушла с российского рынка, громко хлопнув дверью, и использовать её решения сегодня нецелесообразно. Мы видим, что на рыночном сегменте у Microsoft было преимущество только там, где её операционки использовались в рамках предприятия совместно с технологией Active Directory. Сегодня существуют более-менее адекватные замены этой технологии под линукс, так что теперь наличие AD - не аргумент выбирать WinServer. С точки зрения безопасности бизнесов перевод серверов на операционки семейства линукс может решить ряд возникающих проблем (пусть даже порой ценой удобства, функционала и скорости работы). Во-вторых, доля персональных компьютеров, работающих под управлением Linux, только за 2022 по 2023 год увеличилась с 2,42 до 3,08%, а с учётом Chrome OS доля ПК, работающих под управлением Linux, составляет 7,23%. В серверном сегменте ситуация примерно такая: порядка 98% серверов работают под управлением *NIX (Unix-подобных) систем, в число которых входят как дистрибутивы Linux, так и FreeBSD, UNIX и другие ОС. Оставшиеся 2% гордо занимает Майкрософт со своими серверными версиями Окон. В общем, пора уже перестать бояться Linux и начать дружить с этой замечательной операционной системой (книгу по работе с ней я тоже обязательно напишу, но попозже).

Есть хорошая поговорка: если хочешь прочитать хорошую книгу, напиши её сам. За написание книги я взялся, чтобы самому изучить и систематизировать теорию и практику программирования СУБД, а в итоге - чтобы качественно обучать своих студентов работе с базами данных. Можно сказать - пока писал книгу, сам всё понял. В итоге в ней есть самое важное, что нужно для самостоятельного изучения азов теории баз данных и методов работы с ними, причём объяснения сложных концепций даны простыми словами (иначе кому они нужны?). Мне было очень интересно работать над её рукописью, я сам узнал (прочитал, проверил, протестировал, попробовал) многое. Надеюсь, результат этой работы вам понравится и будет полезен.
