В этом разделе я собираю интересные моменты, наблюдения, замечания, которые потом помещу в одну из основных глав.


Из документации по PostgreSQL17.0:
вы можете написать:
SELECT city, (temp_hi+temp_lo)/2 AS temp_avg, date FROM weather;
Обратите внимание, как предложение AS позволяет переименовать выходной столбец. (Само слово AS можно опускать.)

Нужно включить этот фрагмент в главу, где будет идти речь про защиту баз данных от злоумышленников. Ведь через формулы мы можем преобразовывать данные только в одну сторону, верно? А если ещё и в виртуальную таблицу результаты определять - совсем хорошо будет.



В главе 3nf.md сказано:

Насколько сильно должны мы дробить таблицы в ходе оптимизации? Хороший вопрос! С одной стороны, таблицы, приведённые к третьей нормальной форме, выглядят "красиво", такую базу данных легко дополнять новой информацией (независимо от того, добавляется она на уровне событий или справочников, уже существующая структура не "рассыпается" и не требует срочного рефакторинга). С другой стороны, когда база данных размещается в большом количестве отдельных таблиц, она начинает требовать больших объёмов оперативной памяти компьютера (и, соответственно, может отказаться работать на стареньком сервере с маленькой оперативкой). Решить эту проблему можно денормализацией, когда мы объединяем некоторые таблицы. Например, мы можем из двух справочников - предметы и преподаватели - сделать один, объединив в нём информацию о предметах и о том, кто их ведёт. В этой таблице появятся повторы значений (например, если преподаватель ведёт десять разных дисциплин, то его фамилия в таблице встретится десять раз, и если одну дисциплину ведёт несколько преподавателей, то её название также будет продублировано в нескольких строчках). Поскольку денормализация задевает справочники, которые, как правило, имеют небольшой объём и не подвержены активному росту, падение скорости работы если и будет, то окажется незначительным (хотя это интересный вопрос, который следует изучить отдельно и нак конкретных примерах, - как на время выполнения запроса повлияет объединение двух справочников в один?). Кроме того, по новому, денормализованному справочнику мы можем создать индекс, который ускорит выполнение запросов к справочнику.

Этому вопросу следует посвятить отдельную главу (где-то под конец книги, после рассмотрения темы тестирования производительности запросов).


С помощью специальной команды, предусмотренной в утилите psql, можно сохранить в текстовый файл (имя-файла.txt) всю историю введённых в терминале команд. Чтобы сделать это, достаточно набрать:
```
\s имя-файла.txt
```

